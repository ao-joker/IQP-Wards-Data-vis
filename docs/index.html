<!DOCTYPE html>
<script src="https://d3js.org/d3.v6.js"></script>
<script src="https://d3js.org/d3-color.v2.min.js"></script>
<script src="https://d3js.org/d3-interpolate.v2.min.js"></script>
<script src="https://d3js.org/d3-scale-chromatic.v2.min.js"></script>
<script src='https://unpkg.com/@turf/turf@6.3.0/turf.min.js'></script>
<script src="https://d3js.org/d3-geo-projection.v2.min.js"></script>

<html>
<head>
<style>
.topNav 
{
    overflow: hidden;
    display: flex;
    text-align: center;
    justify-content: center;
}

.topNav a 
{
    padding: 10px;
}

.topNav img 
{
    width: 64px;
    height: 64px;
    margin-left: -1%;
    margin-top: 0.5%;
}

.topNav h1 
{
    margin-left: 1%;
}

.topDiv img 
{
    width: 50%;
}

.topDiv 
{
    display: flex;
    justify-content: center;
}

.d3 
{
    margin-top: 2%;
}

.d3 svg 
{
    display: block;
    margin: 0 auto;
}

.botDiv 
{
    display: flex;
}
.botDiv img 
{
    width: 40%;
}


</style>
</head>
<body>
</body>
</html>
<svg id = "map" width = "1800" height = "1600"></svg>

<script>
    console.log(d3)

    //Let's put in the wards map
        //Start with the path variable
        let path = d3.geoPath()

        //Get the attributes for width and height of the svg so to draw the projection
        svgWidth = d3.select("#map").attr("width")
        svgHeight = d3.select("#map").attr("width")

        let projection = d3.geoMercator()
            .scale(250)
            .translate([svgWidth / 2, svgHeight / 2 * 1.3])

        //Now let us load in the map with a call to the doneLoading function
        Promise.All([d3.json, "Port Phillip Wards.geojson"])
                .then( ([wards]) => {createMap(wards)})

        //The doneLoading function makes sure the map is loaded in before continuing so as to not generate an error
        //This was a similar function used within a final project for BCB 4002 that I helped contribute to - https://github.com/njwood/final/blob/main/docs/index.html
        createMap(wards)
        {
            console.log(wards)
        }

        /*let loadedMap   
        let updatedMap

        function doneLoadingMap(error, map_loaded) 
        {
            loadedMap = map_loaded
            let mapFeatures = loadedMap.features
            updatedMap = mapFeatures.map(
                function(f) 
                {
                    return turf.rewind(f, {reverse: true});
                }
            )
        }*/
    
    //Then, let's pull in a data set with the comments/responses that are highlighted
    //Let's do this randomly, a whole set of responses and one for each region will be chosen after being cleaned
        //Makes it more reusable to the PPEC

    //
</script>
